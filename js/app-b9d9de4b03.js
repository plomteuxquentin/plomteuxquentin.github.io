/**
 * membershipManager - membershipManager Project Generated from HotTowel Angular
 * @authors 
 * @version v0.0.0
 * @link 
 * @license 
 */
!function(){"use strict";angular.module("app",["app.core","app.core.entities","app.widgets","app.layout","app.journal","app.members","app.members.details","app.members.edit","app.members.list","app.sessions","app.sessions.details","app.sessions.edit","app.sessions.list"])}(),function(){"use strict";angular.module("app.admin",["app.core","app.widgets"])}(),function(){"use strict";angular.module("blocks.exception",["blocks.logger"])}(),function(){"use strict";angular.module("blocks.logger",[])}(),function(){"use strict";angular.module("blocks.router",["ui.router","blocks.logger"])}(),function(){"use strict";angular.module("app.core",["ngMaterial","ngAnimate","ngSanitize","blocks.exception","blocks.logger","blocks.router","ui.router","ngplus","ngFileUpload","ngImgCrop"])}(),function(){"use strict";function e(e,t){function n(e,t,n){return console.log(n),[201,null]}function i(e,t,n,i,s){var r=angular.fromJson(n),a=new RegExp("\\/api\\/([a-zA-Z0-9_-]+)\\/?([0-9]?)"),o=t.match(a)[1];return p.hasOwnProperty(o)?("members"===o?(r=c(r),console.log("create member : "),console.log(r)):"sessions"===o&&(r=l(r.date,r.participants,r.nbrSubscribers),console.log("create session : "),console.log(r)),p[o].push(r),[201,r]):[404,new Error("unknown API")]}function s(e,n,i,s,r){var a=new RegExp("\\/api\\/([a-zA-Z0-9_-]+)"),o=n.match(a)[1],l=[200],c=[];return p.hasOwnProperty(o)?("events"===o&&r.member?(c=p.events.filter(function(e){return-1!==e.entities.indexOf(parseInt(r.member))}),l.push(c)):"members"===o?l.push(t("orderBy")(p[o],"name")):l.push(p[o]),console.log("request "+o+" : "),console.log(l),l):[404,new Error("unknown API")]}function r(e,n,i,s,r){var a,o,l=new RegExp("\\/api\\/([a-zA-Z0-9_-]+)\\/([0-9]+)"),c=n.match(l)[1],m=n.match(l)[2];return p.hasOwnProperty(c)?(a=p[c].find(function(e){return console.log(e._id+" = "+m),e._id===parseInt(m)}))?(o=[200,a],"sessions"===c&&(a.participants=t("orderBy")(a.participants,"name")),console.log("request "+c+"/"+m+" : "),console.log(a),o):(console.error("request "+c+"/"+m+" :  not found"),[404,"entity "+c+" "+m+"does not exist"]):[404,new Error("unknown API")]}function a(e,t,n,i,s){}function o(e,t,n){var i={CREATE_MEMBER:{category:"ADMIN",title:"Member creation"},CREATE_SESSION:{category:"SESSION",title:"Session of close-combat"},UPDATE_SESSION:{category:"ADMIN",title:"Session updated"},UPDATE_MEMBER:{category:"ADMIN",title:"Member updated"},BUY_SEANCE:{category:"BUY",title:"Seances bought"}},s=angular.copy(i[e]);s.date=n||new Date,s._id=Date.now(),s.entities=t.map(function(e){return e._id}),s.type=e,p.events.push(s)}function l(e,t,n){var i={_id:u(),date:e,participants:t,nbrSubscribers:n},s=t.map(function(e){return e._id});return i.participants=[],p.members.forEach(function(e){-1!==s.indexOf(e._id)&&(e.seanceLeft--,i.participants.push(e))}),o("CREATE_SESSION",i.participants,i.date),i}function c(e){return e._id=u(),e.name=e.firstName+" "+e.lastName,e.seanceLeft=0,o("CREATE_MEMBER",[e]),e}function m(e,t,n){var i=p.members.find(function(t){return e._id===t._id});i.seanceLeft+=t,o("BUY_SEANCE",[i],n)}function d(){var e,t=[{firstName:"Tyrion",lastName:"Lannister",picture:"./assets/members/1.png",seanceLeft:0,address:"13 avenue de broqueville 1200 Bruxelles",email:"tlannister@got.com",phone:"+32 0474 55 63 30"},{firstName:"John",lastName:"Snow",picture:"./assets/members/2.png",seanceLeft:0,address:"13 avenue de broqueville 1200 Bruxelles",email:"jsnow@got.com",phone:"+32 0474 55 63 30"},{firstName:"Sansa",lastName:"Stark",picture:"./assets/members/3.png",seanceLeft:0,address:"13 avenue de broqueville 1200 Bruxelles",email:"sStrak@got.com",phone:"+32 0474 55 63 30"},{firstName:"Joffrey",lastName:"Baratheon",picture:"./assets/members/4.png",seanceLeft:0,address:"13 avenue de broqueville 1200 Bruxelles",email:"jbaratheon@got.com",phone:"+32 0474 55 63 30"},{firstName:"Margaery",lastName:"Tyrell",picture:"./assets/members/5.png",seanceLeft:0,address:"13 avenue de broqueville 1200 Bruxelles",email:"mtyrell@got.com",phone:"+32 0474 55 63 30"},{firstName:"Khal",lastName:"Drogo",picture:"./assets/members/6.png",seanceLeft:0,address:"13 avenue de broqueville 1200 Bruxelles",email:"kdrogo@got.com",phone:"+32 0474 55 63 30"}],n=[{date:new Date("2015/06/23"),participants:[],nbrSubscribers:6},{date:new Date("2015/06/30"),participants:[],nbrSubscribers:6},{date:new Date("2015/09/01"),participants:[],nbrSubscribers:6},{date:new Date("2015/09/07"),participants:[],nbrSubscribers:6}];t.forEach(function(t){e=c(t),p.members.push(e),m(e,5,e.date)}),n[0].participants.push(p.members[0]),n[0].participants.push(p.members[1]),n[0].participants.push(p.members[2]),n[0].participants.push(p.members[3]),n[1].participants.push(p.members[0]),n[1].participants.push(p.members[2]),n[1].participants.push(p.members[3]),n[1].participants.push(p.members[4]),n[1].participants.push(p.members[5]),n[2].participants.push(p.members[0]),n[2].participants.push(p.members[1]),n[2].participants.push(p.members[2]),n[2].participants.push(p.members[3]),n[2].participants.push(p.members[5]),n[2].participants.push(p.members[4]),n[3].participants.push(p.members[3]),n[3].participants.push(p.members[4]),n[3].participants.push(p.members[5]),n.forEach(function(e){e=l(e.date,e.participants,6),p.sessions.push(e)})}function u(){return Date.now()+Math.floor(9999*Math.random())}var p={members:[],sessions:[],events:[]},g=new RegExp("\\/api\\/[a-zA-Z0-9_-]+\\/[0-9]+[?a-zA-Z0-9_-]?"),f=new RegExp("\\/api\\/[a-zA-Z0-9_-]+[?a-zA-Z0-9_-]?"),v="/api/members/image";d(),e.whenGET(g).respond(r),e.whenGET(f).respond(s),e.whenGET(/\.html/).passThrough(),e.whenGET(/\.svg/).passThrough(),e.whenPOST(v).respond(n),e.whenPOST(f).respond(i),e.whenPUT(g).respond(a)}angular.module("app.core.entities",["ngResource","ngMockE2E"]).run(e),e.$inject=["$httpBackend","$filter"]}(),function(){"use strict";function e(e){e.configureStates(t())}function t(){return[{state:"journal",url:"/journal",config:{templateUrl:"app/journal/journal.html",controller:"JournalController",controllerAs:"vm",title:"journal",settings:{nav:3,icon:"journal",target:"journal"}}}]}angular.module("app.journal",["app.core","app.widgets"]).run(e),e.$inject=["routerHelper"]}(),function(){"use strict";angular.module("app.layout",["app.core"])}(),function(){"use strict";function e(e){e.configureStates(t())}function t(){return[{state:"members.details",config:{url:"/details/:id",templateUrl:"app/members/details/members.details.html",controller:"MembersDetailsController",controllerAs:"vm",title:"members details"}}]}angular.module("app.members.details",["app.core","app.widgets"]).run(e),e.$inject=["routerHelper"]}(),function(){"use strict";function e(e){e.configureStates(t())}function t(){return[{state:"members.edit",config:{url:":id/edit",templateUrl:"app/members/edit/members.edit.html",controller:"MembersEditController",controllerAs:"vm",title:"members edition"}}]}angular.module("app.members.edit",["app.core","app.widgets"]).run(e),e.$inject=["routerHelper"]}(),function(){"use strict";function e(e){e.configureStates(t())}function t(){return[{state:"members.list",url:"",config:{templateUrl:"app/members/list/members.list.html",controller:"MembersListController",controllerAs:"vm",title:"members list"}}]}angular.module("app.members.list",["app.core","app.widgets"]).run(e),e.$inject=["routerHelper"]}(),function(){"use strict";function e(e){e.configureStates(t())}function t(){return[{state:"members",config:{url:"/members",template:"<ui-view ></ui-view>",title:"members",settings:{nav:1,icon:"members",target:"members.list"}}}]}angular.module("app.members",["app.core","app.widgets"]).run(e),e.$inject=["routerHelper"]}(),function(){"use strict";function e(e){e.configureStates(t())}function t(){return[{state:"sessions.details",config:{url:"/details/:id",templateUrl:"app/sessions/details/sessions.details.html",controller:"SessionsDetailsController",controllerAs:"vm",title:"sessions details"}}]}angular.module("app.sessions.details",["app.core","app.widgets"]).run(e),e.$inject=["routerHelper"]}(),function(){"use strict";function e(e){e.configureStates(t())}function t(){return[{state:"sessions.edit",config:{url:":id/edit",templateUrl:"app/sessions/edit/sessions.edit.html",controller:"SessionsEditController",controllerAs:"vm",title:"sessions edition"}}]}angular.module("app.sessions.edit",["app.core","app.widgets"]).run(e),e.$inject=["routerHelper"]}(),function(){"use strict";function e(e){e.configureStates(t())}function t(){return[{state:"sessions.list",url:"",config:{templateUrl:"app/sessions/list/sessions.list.html",controller:"SessionsListController",controllerAs:"vm",title:"sessions list"}}]}angular.module("app.sessions.list",["app.core","app.widgets"]).run(e),e.$inject=["routerHelper"]}(),function(){"use strict";function e(e){e.configureStates(t())}function t(){return[{state:"sessions",config:{url:"/sessions",template:"<ui-view></ui-view>",title:"sessions",settings:{nav:2,icon:"sessions",target:"sessions.list"}}}]}angular.module("app.sessions",["app.core","app.widgets"]).run(e),e.$inject=["routerHelper"]}(),function(){"use strict";angular.module("app.widgets",[])}(),function(){"use strict";function e(e){function t(){e.info("Activated Admin View")}var n=this;n.title="Admin",t()}angular.module("app.admin").controller("AdminController",e),e.$inject=["logger"]}(),function(){"use strict";function e(e){e.configureStates(t())}function t(){return[{state:"admin",config:{url:"/admin",templateUrl:"app/admin/admin.html",controller:"AdminController",controllerAs:"vm",title:"Admin",settings:{nav:2,content:'<i class="fa fa-lock"></i> Admin'}}}]}angular.module("app.admin").run(e),e.$inject=["routerHelper"]}(),function(){"use strict";function e(){this.config={appErrorPrefix:void 0},this.configure=function(e){this.config.appErrorPrefix=e},this.$get=function(){return{config:this.config}}}function t(e){e.decorator("$exceptionHandler",n)}function n(e,t,n){return function(i,s){var r=t.config.appErrorPrefix||"",a={exception:i,cause:s};i.message=r+i.message,e(i,s),n.error(i.message,a)}}angular.module("blocks.exception").provider("exceptionHandler",e).config(t),t.$inject=["$provide"],n.$inject=["$delegate","exceptionHandler","logger"]}(),function(){"use strict";function e(e,t){function n(n){return function(i){var s,r;return i.data&&i.data.description&&(s="\n"+i.data.description,r=n+s),i.data.description=r,t.error(r),e.reject(i)}}var i={catcher:n};return i}e.$inject=["$q","logger"],angular.module("blocks.exception").factory("exception",e)}(),function(){"use strict";function e(e,t){function n(n,i,s){t.error(n,s),e.error("Error: "+n,i)}function i(n,i,s){t.info(n,s),e.info("Info: "+n,i)}function s(n,i,s){t.success(n,s),e.info("Success: "+n,i)}function r(n,i,s){t.warning(n,s),e.warn("Warning: "+n,i)}var a={showToasts:!0,error:n,info:i,success:s,warning:r,log:e.log};return a}angular.module("blocks.logger").factory("logger",e),e.$inject=["$log","toastr"]}(),function(){"use strict";function e(e,t,n){function i(e,i,r,a){function o(e,i){e.forEach(function(e){e.config.resolve=angular.extend(e.config.resolve||{},s.resolveAlways),t.state(e.state,e.config)}),i&&!p&&(p=!0,n.otherwise(i))}function l(){i.$on("$stateChangeError",function(t,n,i,s,r,o){if(!u){g.errors++,u=!0;var l=n&&(n.title||n.name||n.loadedTemplateUrl)||"unknown target",c="Error routing to "+l+". "+(o.data||"")+". <br/>"+(o.statusText||"")+": "+(o.status||"");a.warning(c,[n]),e.path("/")}})}function c(){l(),d()}function m(){return r.get()}function d(){i.$on("$stateChangeSuccess",function(e,t,n,r,a){g.changes++,u=!1;var o=s.docTitle+" "+(t.title||"");i.title=o})}var u=!1,p=!1,g={errors:0,changes:0},f={configureStates:o,getStates:m,stateCounts:g};return c(),f}var s={docTitle:void 0,resolveAlways:{}};e.html5Mode(!0),this.configure=function(e){angular.extend(s,e)},this.$get=i,i.$inject=["$location","$rootScope","$state","logger"]}angular.module("blocks.router").provider("routerHelper",e),e.$inject=["$locationProvider","$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function e(e){e.options.timeOut=4e3,e.options.positionClass="toast-bottom-right"}function t(e,t,n){e.debugEnabled&&e.debugEnabled(!0),n.configure(i.appErrorPrefix),t.configure({docTitle:i.appTitle+": "})}function n(e,t){var n=24,i="./assets/svg/",s="blue-grey",r="pink";t.icon("menu",i+"menu.svg",n).icon("share",i+"share.svg",n).icon("members",i+"members.svg",n).icon("sessions",i+"sessions.svg",n).icon("sms",i+"sms.svg",n).icon("phone",i+"call.svg",n).icon("mail",i+"mail.svg",n).icon("location",i+"location.svg",n).icon("moreMenuHor",i+"moreMenuHor.svg",n).icon("defaultMember",i+"defaultMember.svg",n).icon("addMember",i+"addMember.svg",n).icon("journal",i+"journal.svg",n).icon("search",i+"search.svg",n).icon("edit",i+"edit.svg",n).icon("add",i+"add.svg",n).icon("clear",i+"clear.svg",n).icon("addSession",i+"addSession.svg",n).icon("addSeance",i+"addSeance.svg",n).icon("addPhoto",i+"addPhoto.svg",n).icon("close",i+"close.svg",n).icon("view",i+"view.svg",n),e.theme("default").primaryPalette(s).accentPalette(r)}var i,s=angular.module("app.core");i={appErrorPrefix:"[membershipManager Error] ",appTitle:"membershipManager"},s.config(n),s.config(e),s.config(t),s.value("config",i),e.$inject=["toastr"],t.$inject=["$logProvider","routerHelperProvider","exceptionHandlerProvider"],n.$inject=["$mdThemingProvider","$mdIconProvider"]}(),function(){"use strict";angular.module("app.core").constant("toastr",toastr).constant("moment",moment)}(),function(){"use strict";function e(e){var n="/404";e.configureStates(t(),n)}function t(){return[{state:"404",config:{url:"/404",templateUrl:"app/core/404.html",title:"404"}}]}e.$inject=["routerHelper"],angular.module("app.core").run(e)}(),function(){"use strict";function e(){return{restrict:"A",link:{post:function(e,t,n){t[0].focus()}}}}angular.module("app.core").directive("autoFocus",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"app/core/directives/timeline.directive.html",scope:{events:"=",filter:"="},controller:t,controllerAs:"timelineCtrl",bindToController:!0}}function t(e){var t={CREATE_MEMBER:"addMember",CREATE_SESSION:"addSession",UPDATE_SESSION:"updated",UPDATE_MEMBER:"updated",BUY_SEANCE:"addSeance"};this.filter&&e.$watch("timelineCtrl.events",function(e,n){e&&e.length&&e.forEach(function(e){e.icon=t[e.type]})})}angular.module("app.core").directive("timeLine",e),t.$inject=["$scope"]}(),function(){"use strict";function e(e){var t="/api/events/:id",n="@_id";return e(t,{id:n},{update:{method:"PUT"},queryMember:{method:"GET",params:{member:"@member"},isArray:!0}})}angular.module("app.core.entities").factory("eventsFactory",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e){var t="/api/members/:id",n="@_id",i=e(t,{id:n},{update:{method:"PUT"}});return i}angular.module("app.core.entities").factory("membersFactory",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e){var t="/api/sessions/:id",n="@_id",i=e(t,{id:n},{update:{method:"PUT"}});return i}angular.module("app.core.entities").factory("sessionsFactory",e),e.$inject=["$resource"]}(),function(){"use strict";function e(e){function t(){n()}function n(){function t(e){i.events=e}function n(e){console.log("unable to load events : "+e)}return e.query(t,n).$promise}var i=this;i.events=[],t()}angular.module("app.journal").controller("JournalController",e),e.$inject=["eventsFactory"]}(),function(){"use strict";function e(){function e(){}var t={bindToController:!0,controller:e,controllerAs:"vm",restrict:"EA",scope:{navline:"="},templateUrl:"app/layout/ht-top-nav.html"};return t}angular.module("app.layout").directive("htTopNav",e)}(),function(){"use strict";function e(e,t,n,i,s){function r(){i.success(n.appTitle+" loaded!",null),a()}function a(){t(function(){e.showSplash=!1},1e3)}function o(){s("left").toggle()}var l=this;l.busyMessage="Please wait ...",l.isBusy=!0,e.showSplash=!0,l.navline={title:n.appTitle,text:"Created by John Papa",link:"http://twitter.com/john_papa"},l.toggleNav=o,r()}angular.module("app.layout").controller("ShellController",e),e.$inject=["$rootScope","$timeout","config","logger","$mdSidenav"]}(),function(){"use strict";function e(e,t,n){function i(){s()}function s(){o.navRoutes=l.filter(function(e){return e.settings&&e.settings.nav}).sort(function(e,t){return e.settings.nav-t.settings.nav})}function r(t){var n;return t.title&&e.current&&e.current.title?(n=t.title,e.current.title.substr(0,n.length)===n?"selected":""):""}function a(){n("left").toggle()}var o=this,l=t.getStates();o.isCurrent=r,o.toggleNav=a,i()}angular.module("app.layout").controller("SidebarController",e),e.$inject=["$state","routerHelper","$mdSidenav"]}(),function(){"use strict";function e(e,t,n){function i(e){s(e).then(r(e))}function s(e){function n(t){return a.member=t,a.member.event=[],e}function i(e){console.error("Unable to load member: "+e)}return t.get({id:e},n,i).$promise}function r(e){function t(e){a.member.events=e}function i(e){console.error("unable to load events : "+e)}return n.queryMember({member:e},t,i).$promise}var a=this;a.member={event:[]},a.filter={session:{category:"SESSION"},buy:{category:"BUY"}},i(e.id)}angular.module("app.members.details").controller("MembersDetailsController",e),e.$inject=["$stateParams","membersFactory","eventsFactory"]}(),function(){"use strict";function e(e,t,n,i,s,r,a){function o(){n.$watch(function(){return u.picFile},function(e,t){e&&c(e)})}function l(){function n(e){t.go("members.details",{id:e._id})}function i(e){console.debug("save failed : "+e)}e.save(p.member).$promise.then(n,i)}function c(e){function t(e){p.croppedPicture=e.croppedPicture,p.originalPicture=e.originalPicture}function i(){}var s;(e||u.originalPicture)&&(e=e?e:u.originalPicture,n.$watch(function(){return a("xs")||a("sm")},function(e){n.customFullscreen=e===!0}),s=(a("sm")||a("xs"))&&n.customFullscreen,d={controller:"MembersPictureDialogController",controllerAs:"pictureDialogCtrl",templateUrl:"app/members/edit/pictureDialog/pictureDialog.html",parent:angular.element(document.body),openFrom:"pictureButton",closeFrom:"pictureButton",clickOutsideToClose:!0,fullscreen:s,locals:{picture:e}},r.show(d).then(t,i))}var m,d,u=this,p=this;p.member={},p.croppedPicture=null,p.originalPicture=null,u.picFile=null,u.dialogPicture=c,p.save=l,o(),n.upload=function(e){s.upload({url:"https://angular-file-upload-cors-srv.appspot.com/upload",data:{file:s.dataUrltoBlob(e)}}).then(function(e){i(function(){n.result=e.data})},function(e){e.status>0&&(n.errorMsg=e.status+": "+e.data)},function(e){n.progress=parseInt(100*e.loaded/e.total)})},n.myImage="",n.myCroppedImage=null,m=function(e){var t=e.currentTarget.files[0],i=new FileReader;i.onload=function(e){n.$apply(function(t){t.myImage=e.target.result})},i.readAsDataURL(t)},angular.element(document.querySelector("#fileInput")).on("change",m)}angular.module("app.members.edit").controller("MembersEditController",e),e.$inject=["membersFactory","$state","$scope","$timeout","Upload","$mdDialog","$mdMedia"]}(),function(){"use strict";function e(e,t){function n(){console.log(e)}function i(){t.cancel()}function s(){t.hide({croppedPicture:null,originalPicture:null})}function r(){t.hide({croppedPicture:a.croppedPicture,originalPicture:a.picture})}var a=this;a.picture=e,a.croppedPicture="",a.cancel=i,a.erase=s,a.validate=r,n()}angular.module("app.members.edit").controller("MembersPictureDialogController",e),e.$inject=["picture","$mdDialog"]}(),function(){"use strict";function e(e,t){function n(){i()}function i(){function n(e){l.members=t("orderBy")(e,"name")}function i(e){console.error("Unable to load members : "+e)}return e.query(n,i)}function s(e){8===e.keyCode&&0===l.search.length&&(l.displayActions=!0,e.preventDefault())}function r(){return l.members.some(function(e){return e.selected})}function a(){var e=[];return l.members.forEach(function(t){t.selected&&e.push(t.email)}),e.join()}function o(){var e=[];return l.members.forEach(function(t){t.selected&&e.push(t.phone)}),e.join()}var l=this;l.members=[],l.search="",l.displayActions=!0,l.displaySelection=r,l.removeOnBackspace=s,l.getMails=a,l.getSMS=o,n()}angular.module("app.members.list").controller("MembersListController",e),e.$inject=["membersFactory","$filter"]}(),function(){"use strict";function e(e,t){function n(e){i(e)}function i(t){function n(e){s.session=e}function i(e){console.error("Unable to load session : "+e)}return e.get({id:t},n,i).$promise}var s=this;n(t.id)}angular.module("app.sessions.details").controller("SessionsDetailsController",e),e.$inject=["sessionsFactory","$stateParams"]}(),function(){"use strict";function e(e,t,n){function i(){s()}function s(){function t(e){o.members=e}function n(e){console.error("Unable to load members : "+e)}return e.query(t,n)}function r(e){e.selected?(o.session.participants.pop(e),e.selected=!1):(o.session.participants.push(e),e.selected=!0)}function a(){function e(e){n.go("sessions.details",{id:e._id})}function i(e){console.debug("save failed : "+e)}o.session.participants.forEach(function(e){delete e.selected}),o.session.nbrSubscribers=o.members.length,t.save(o.session).$promise.then(e,i)}var o=this;o.session={},o.members=[],o.session.participants=[],o.toggleSelect=r,o.save=a,i()}angular.module("app.sessions.edit").controller("SessionsEditController",e),e.$inject=["membersFactory","sessionsFactory","$state"]}(),function(){"use strict";function e(e){function t(){n()}function n(){function t(e){i.sessions=e}function n(e){console.error("Unable to load sessions: "+e)}return e.query(t,n).$promise}var i=this;i.sessions=[],t()}angular.module("app.sessions.list").controller("SessionsListController",e),e.$inject=["sessionsFactory"]}(),function(){"use strict";function e(e){function t(e,t,s){s.$observe("htImgPerson",function(e){e=n+(e||i),s.$set("src",e)})}var n=e.imageBasePath,i=e.unknownPersonImageSource,s={link:t,restrict:"A"};return s}angular.module("app.widgets").directive("htImgPerson",e),e.$inject=["config"]}(),function(){"use strict";function e(){var e={scope:{title:"@",subtitle:"@",rightText:"@",allowCollapse:"@"},templateUrl:"app/widgets/widget-header.html",restrict:"EA"};return e}angular.module("app.widgets").directive("htWidgetHeader",e)}(),angular.module("app.core").run(["$templateCache",function(e){e.put("app/admin/admin.html",'<section class=mainbar><section class=matter><div class=container><div class=row><div class="widget wviolet"><div ht-widget-header title={{vm.title}}></div><div class="widget-content user"><h3>TODO: Implement Your Features</h3></div><div class=widget-foot><div class=clearfix></div></div></div></div></div></section></section>'),e.put("app/core/404.html",'<section id=dashboard-view class=mainbar><section class=matter><div class=container><div class=row><div class=col-md-12><ul class=today-datas><li class=bred><div class=pull-left><i class="fa fa-warning"></i></div><div class="datas-text pull-right"><a><span class=bold>404</span></a>Page Not Found</div><div class=clearfix></div></li></ul></div></div><div class=row><div class="widget wblue"><div ht-widget-header title="Page Not Found" allow-collapse=true></div><div class="widget-content text-center text-info"><div class=container>No soup for you!</div></div><div class=widget-foot><div class=clearfix></div></div></div></div></div></section></section>'),e.put("app/journal/journal.html","<md-card class=timeline__container><md-card-content><md-tabs md-dynamic-height md-border-bottom><md-tab label=All><md-content class=md-padding><time-line events=vm.events flex></time-line></md-content></md-tab><md-tab label=Sessions><md-content class=md-padding><time-line events=vm.events filter=\"{category: 'SESSION'}\" flex></time-line></md-content></md-tab><md-tab label=Buy><md-content class=md-padding><time-line events=vm.events filter=\"{category: 'BUY'}\" flex></time-line></md-content></md-tab></md-tabs></md-card-content></md-card>"),e.put("app/layout/ht-top-nav.html",'<nav class="navbar navbar-fixed-top navbar-inverse"><div class=navbar-header><a href="/" class=navbar-brand><span class=brand-title>{{vm.navline.title}}</span></a> <a class="btn navbar-btn navbar-toggle" data-toggle=collapse data-target=.navbar-collapse><span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></a></div><div class="navbar-collapse collapse"><div class="pull-right navbar-logo"><ul class="nav navbar-nav pull-right"><li><a ng-href={{vm.navline.link}} target=_blank>{{vm.navline.text}}</a></li><li class="dropdown dropdown-big"><a href=http://www.angularjs.org target=_blank><img src=images/AngularJS-small.png></a></li><li><a href="http://www.gulpjs.com/" target=_blank><img src=images/gulp-tiny.png></a></li></ul></div></div></nav>'),e.put("app/layout/shell.html",'<md-sidenav class="site-sidenav md-sidenav-left md-whiteframe-z2" md-component-id=left md-is-locked-open="$mdMedia(\'gt-sm\')"><md-toolbar class=md-whiteframe-z1><h1>Navigation</h1></md-toolbar><md-list ng-controller="SidebarController as vm"><md-list-item ng-class=vm.isCurrent(route) ng-repeat="route in vm.navRoutes"><md-button ui-sref={{route.settings.target}} class=side-bar__menu__item ng-click=vm.toggleNav()><md-icon md-svg-icon={{route.settings.icon}} class=side-bar__menu__item__icon></md-icon>{{route.title}}</md-button><md-divider></md-divider></md-list-item></md-list></md-sidenav><div ng-controller="ShellController as vm" flex layout=column tabindex=-1 role=main class=md-whiteframe-z2><md-toolbar layout=row class=md-whiteframe-z1><md-button class=menu hide-gt-sm ng-click=vm.toggleNav() aria-label="Show User List"><md-icon md-svg-icon=menu></md-icon></md-button><h1>Membership Manager <span hide-sm hide-xs>- Effortless management</span></h1></md-toolbar><md-content flex id=content ui-view-container><div ui-view class=well></div><div ngplus-overlay ngplus-overlay-delay-in=50 ngplus-overlay-delay-out=700 ngplus-overlay-animation=dissolve-animation><img src=images/busy.gif><div class="page-spinner-message overlay-message">{{vm.busyMessage}}</div></div></md-content></div>'),e.put("app/layout/sidebar.html",'<div ng-controller="SidebarController as vm"><ht-sidebar when-done-animating=vm.sidebarReady()><div class=sidebar-filler></div><div class=sidebar-dropdown><a href=#>Menu</a></div><div class=sidebar-inner><div class=sidebar-widget></div><ul class=navi><li class="nlightblue fade-selection-animation" ng-class=vm.isCurrent(r) ng-repeat="r in vm.navRoutes"><a ui-sref={{r.name}} ng-bind-html=r.settings.content></a></li></ul></div></ht-sidebar></div>'),e.put("app/widgets/widget-header.html",'<div class=widget-head><div class="page-title pull-left">{{title}}</div><small class=page-title-subtle ng-show=subtitle>({{subtitle}})</small><div class="widget-icons pull-right"></div><small class="pull-right page-title-subtle" ng-show=rightText>{{rightText}}</small><div class=clearfix></div></div>'),e.put("app/core/directives/timeline.directive.html",'<md-list class=timeline><md-list-item ng-repeat="event in timelineCtrl.events | filter:timelineCtrl.filter:true" ng-click=timeline.select(event) flex layout=row layout-align="space-around center" class=timeline__item><div flex=15 class=timeline__item__date>{{event.date | date:\'MMM d, y\'}}</div><div flex-gt-xs=10 flex-xs=20 class=timeline__item__icon><md-icon md-svg-icon={{event.icon}}></md-icon></div><div flex>{{event.title}}</div></md-list-item></md-list>'),e.put("app/members/details/members.details.html",'<div class=action-bar flex layout=row layout-align="end center"><div layout=row><md-button class=md-fab><md-icon md-svg-icon=addSeance></md-icon></md-button><md-button class=md-fab><md-icon md-svg-icon=edit></md-icon></md-button></div></div><div flex layout-gt-xs=row layout-align="start start"><md-card><img ng-src={{vm.member.picture}} alt="{{vm.member.name}} picture" class=md-whiteframe-1dp><md-card-content><md-list><md-list-item layout-align="center center" layout=column><div class="md-display-2 profilt__contact__seance-left_number">{{vm.member.seanceLeft}}</div><p class="md-subhead profilt__contact__seance-left_text">seances left</p></md-list-item><md-list-item><div>{{vm.member.name}}</div></md-list-item><a ng-href=mailto:{{vm.member.email}}><md-list-item class=profil__contact__item><div flex=90>{{vm.member.email}}</div><md-icon md-svg-icon=mail></md-icon></md-list-item></a> <a nghref=tel:{{vm.member.phone}}><md-list-item class=profil__contact__item><div flex=90>{{vm.member.phone}}</div><md-icon md-svg-icon=phone></md-icon></md-list-item></a> <a ng-href="http://maps.google.com/?q={{vm.member.address}}" target=_blank><md-list-item class=profil__contact__item><div flex=90>{{vm.member.address}}</div><md-icon md-svg-icon=location></md-icon></md-list-item></a></md-list></md-card-content></md-card><md-card flex><md-card-header><md-card-header-text><p class=md-title>Your timeline</p></md-card-header-text></md-card-header><md-card-content><md-tabs md-dynamic-height md-border-bottom><md-tab label=All><md-content class=md-padding><time-line events=vm.member.events flex></time-line></md-content></md-tab><md-tab label=Sessions><md-content class=md-padding><time-line events=vm.member.events filter=vm.filter.session flex></time-line></md-content></md-tab><md-tab label=Buy><md-content class=md-padding><time-line events=vm.member.events filter=vm.filter.buy flex></time-line></md-content></md-tab></md-tabs></md-card-content></md-card></div>'),e.put("app/members/list/members.list.html",'<div class=action-bar flex layout=row layout-align=space-between><div layout=row flex ng-if=vm.displaySelection() class=action-bar__items><a class="md-button md-fab" href=mailto:{{vm.getMails()}}><md-icon md-svg-icon=mail></md-icon></a> <a class="md-button md-fab" href=sms:{{vm.getSMS()}}><md-icon md-svg-icon=sms></md-icon></a></div><div class=action-bar ng-show=vm.displayActions flex layout=row layout-align="end center"><md-button class=md-fab ui-sref="sessions.edit({id:\'\'})" aria-label="add a session"><md-icon md-svg-icon=addSession></md-icon></md-button><md-button class=md-fab ui-sref="members.edit({id: \'\'})" aria-label="add a member"><md-icon md-svg-icon=addMember></md-icon></md-button><md-button class=md-fab ng-click="vm.displayActions=false" aria-label="filter members"><md-icon md-svg-icon=search></md-icon></md-button></div></div><div layout=row ng-if=!vm.displayActions flex><md-input-container flex><md-icon class=search__input-contrainer__icon md-svg-icon=clear ng-click="vm.displayActions=true"></md-icon><label>Search</label> <input ng-model=vm.search title="filter members" auto-focus ng-keydown=vm.removeOnBackspace($event)></md-input-container></div><md-card><md-card-content><md-list><md-list-item ng-repeat="member in vm.members| filter:{$:vm.search}" class=member-list__item><md-checkbox ng-model=member.selected></md-checkbox><div flex layout=row layout-align=space-between ui-sref="members.details({id: member._id})"><img alt={{member.name}} ng-src={{member.picture}} class="md-avatar md-whiteframe-2dp"><p flex layout=row layout-align=space-between class=member-list__name><span>{{member.name}}</span> <span flex=20>{{member.seanceLeft}}</span></p><div hide-xs flex layout=row layout-align="space-around center"><md-icon md-svg-icon=addSeance class=member-list__icon></md-icon><md-icon md-svg-icon=mail class=member-list__icon></md-icon><md-icon md-svg-icon=edit ui-sref="members.edit({id: member.id})" class=member-list__icon></md-icon></div><div hide-gt-xs><md-icon md-svg-icon=moreMenuHor></md-icon></div></div><md-divider md-inset></md-divider></md-list-item></md-list></md-card-content></md-card>'),e.put("app/members/edit/members.edit.html",'<div flex-gt-md=60 flex-offset-gt-md=20 layout-align=center><md-card><md-card-title><md-card-title-text><span class=md-headline>Create a new member</span></md-card-title-text></md-card-title><md-card-content><form name=form><div layout-gt-xs=row><div class=createMember__picture layout=column layout-align="center center" flex flex-order-gt-xs=2><img ng-if=vm.croppedPicture ng-src={{vm.croppedPicture}} ng-click=vm.dialogPicture() class=createMember__picture__image><md-button ng-if=!vm.croppedPicture tabindex=-1 class="md-fab createMember__picture__icon" style="width: inherit;height: inherit" ngf-select ngf-capture="\'camera\'" ng-model=vm.picFile accept=image/*><md-icon md-svg-icon=addPhoto></md-icon></md-button></div><div flex layout=column flex-order-gt-xs=1><md-input-container class=md-block flex-gt-xs><label>First name</label> <input name=firstName ng-model=vm.member.firstName required></md-input-container><md-input-container class=md-block flex-gt-xs><label>Last name</label> <input name=lastName ng-model=vm.member.lastName required></md-input-container></div></div><div layout-gt-xs=row><md-input-container class=md-block flex-gt-sm><label>Email</label> <input name=email ng-model=vm.member.email required minlength=5 maxlength=100 ng-pattern="/^.+@.+\\..+$/"><div ng-messages="form.email.$dirty && form.email.$error"><div ng-message-exp="[\'required\', \'minlength\', \'maxlength\', \'pattern\']">Your email must be between 5 and 100 characters long e-mail address.</div></div></md-input-container><md-input-container class=md-block flex-gt-xs><label>Address</label> <input name=Address ng-model=vm.member.address required></md-input-container></div><div><md-input-container class=md-block flex-gt-xs><label>Phone Number</label> <input name=phone ng-model=vm.member.phone required></md-input-container></div><div flex layout=row layout-align=space-between><md-datepicker class=md-block name=birthday ng-model=vm.member.birthday md-placeholder="day of birth"></md-datepicker></div></form></md-card-content><md-card-actions layout=row layout-align="end center"><md-button class="md-primary md-raised" ng-disabled=form.$invalid ng-click=vm.save()>Create</md-button></md-card-actions></md-card></div>'),
e.put("app/sessions/details/sessions.details.html","<div class=md-title>Session of close-combat</div><div class=md-subhead>{{vm.session.date | date:'EEEE d MMMM y'}}</div><md-card><md-card-content><md-list><md-subheader class=md-no-sticky><p>{{vm.session.members.length}} members present</p></md-subheader><md-list-item class=md-3-line ng-repeat=\"member in vm.session.participants\" ui-sref=\"members.details({id: member._id})\"><div class=md-list-item-text layout=row><img alt={{member.name}} ng-src={{member.picture}} class=md-avatar><p flex>{{member.name}}</p><p flex layout-align=\"center center\" style=font-size:1.2em;><span ng-class=\"{'session-detail__seanceLeft_0': member.seanceLeft===0, 'session-detail__seanceLeft_1': member.seanceLeft===1, 'session-detail__seanceLeft_demo':member.seanceLeft==='demo'}\">{{member.seanceLeft}}</span></p></div><md-divider></md-divider></md-list-item></md-list></md-card-content></md-card>"),e.put("app/sessions/edit/sessions.edit.html",'<h1>Create a new session</h1><div flex layout=row layout-align=space-around><md-datepicker ng-model=vm.session.date md-placeholder="Session date" ng-required></md-datepicker><p ng-hide=vm.session.participants.length>Select participants</p><p ng-show=vm.session.participants.length>{{vm.session.participants.length}} participant out of {{vm.members.length}}</p><md-button class="md-primary md-raised" ng-click=vm.save() ng-disabled=!vm.session.date>Create session</md-button></div><h2>Participants</h2><md-grid-list class=members-grid md-cols-xs=3 md-cols-sm=5 md-cols-md=5 md-cols-gt-md=6 md-row-height-gt-md=1:1 md-row-height=2:2 md-gutter=12px md-gutter-gt-sm=8px><md-grid-tile ng-click=vm.toggleSelect(member) class=members-grid___tile ng-repeat="member in vm.members" ng-class="{\'members-grid___tile_selected\':member.selected}"><img ng-show=member.picture alt={{member.name}} ng-src={{member.picture}}><md-icon ng-hide=member.picture md-svg-icon=defaultMember class=members-grid___tile__icon></md-icon><md-grid-tile-footer layout-align="center center"><h3>{{member.name}}</h3></md-grid-tile-footer></md-grid-tile></md-grid-list><md-button class="md-primary md-raised notImplementedYet" ng-click=vm.addGuest()>Add guest</md-button><md-button class="md-primary md-raised notImplementedYet" ng-click=vm.creditParticipant()>credit participant</md-button>'),e.put("app/sessions/list/sessions.list.html",'<div class=action-bar flex layout=row layout-align="end center"><md-button class=md-fab ui-sref="sessions.edit({id:\'\'})"><md-icon md-svg-icon=addSession></md-icon></md-button></div><md-card><md-card-content><md-list><md-list-item ng-repeat="session in vm.sessions" flex layout=row layout-align="space-around center" ui-sref="sessions.details({id: session._id})"><div flex=45 layout=row layout-align="space-around center" hide-xs><div flex>{{session.date | date:\'MMMM\'}}</div><div flex>{{session.date | date:\'EEEE d\'}}</div><div flex>{{session.date | date:\'y\'}}</div></div><div flex hide-gt-xs>{{session.date | date:\'mediumDate\'}}</div><div flex>{{session.participants.length}}</div><div flex>{{session.nbrSubscribers}}</div><md-divider></md-divider></md-list-item></md-list></md-card-content></md-card>'),e.put("app/members/edit/pictureDialog/pictureDialog.html",'<md-dialog aria-label="Crop picture" ng-cloak><form><md-toolbar><div class=md-toolbar-tools><h2>Resize Picture</h2><span flex></span><md-button class=md-icon-button ng-click=pictureDialogCtrl.cancel()><md-icon md-svg-icon=close aria-label="Close dialog"></md-icon></md-button></div></md-toolbar><md-dialog-content><div class=md-dialog-content><div flex layout=row layout-align="center center"><div class=cropArea flex-grow layout=row><img-crop ng-show=pictureDialogCtrl.picture image="pictureDialogCtrl.picture | ngfDataUrl" result-image=pictureDialogCtrl.croppedPicture></img-crop><button ng-hide=pictureDialogCtrl.picture flex=fill ngf-select ngf-capture="\'camera\'" ng-model=pictureDialogCtrl.picture accept=image/*><md-icon md-svg-icon=addPhoto></md-icon></button></div></div></div></md-dialog-content><md-dialog-actions layout=row><md-button class="md-button md-primary" ngf-select ngf-capture="\'camera\'" ng-model=pictureDialogCtrl.picture accept=image/*>Change picture</md-button><span flex></span><md-button ng-click=pictureDialogCtrl.erase()>Erase</md-button><md-button ng-click=pictureDialogCtrl.validate() style=margin-right:20px;>Import</md-button></md-dialog-actions></form></md-dialog>')}]);